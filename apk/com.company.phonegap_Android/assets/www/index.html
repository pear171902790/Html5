<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title></title>
  
  
  
  <link rel="stylesheet" href="https://d10ajoocuyu32n.cloudfront.net/mobile/1.3.1/jquery.mobile-1.3.1.min.css">
  
  <!-- Extra Codiqa features -->
  <link rel="stylesheet" href="codiqa.ext.css">
  
  <!-- jQuery and jQuery Mobile -->
  <script src="https://d10ajoocuyu32n.cloudfront.net/jquery-1.9.1.min.js"></script>
  <script src="https://d10ajoocuyu32n.cloudfront.net/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>

  <!-- Extra Codiqa features -->
  <script src="https://d10ajoocuyu32n.cloudfront.net/codiqa.ext.js"></script>
   
</head>
<body>

<!-- Home -->
<div data-role="page">
    <div data-theme="a" data-role="header">
        <h5>
            添加
        </h5>
        <div data-role="fieldcontain">
            <label for="textinput1">
                用途
            </label>
            <input name="" id="use" placeholder="" value="" type="text" data-mini="true">
        </div>
        <div data-role="fieldcontain">
            <label for="textinput3">
                金额
            </label>
            <input name="" id="money" placeholder="" value="" type="number" data-mini="true">
        </div>
        <div data-role="fieldcontain">
            <label for="textinput5">
                消费者
            </label>
            <input id="person" name="" placeholder="" value="" type="text" data-mini="true">
        </div>
        <div data-role="fieldcontain">
            <label for="textinput4">
                日期
            </label>
            <input name="" id="date" placeholder="" value="" type="date" data-mini="true">
        </div>
    </div>
    
    <div data-role="content">
    	<input type="button" value="Save" id="Save" />
        
        <a href="ShowData.html">ShowData</a>
    </div>
</div>

    <script>
        var local = window.localStorage;
        function Consumption(use, money, person, date) {
            this.use = use;
            this.money = money;
            this.person = person;
            this.date = date;
        }
        $('#Save').click(function () {
            var consumptions = local.getItem('consumptions') ? JSON.parse(local.getItem('consumptions')) : [];
            var use = $('#use').val();
            var money = $('#money').val();
            var person = $('#person').val();
            var date = $('#date').val();
            var consumption = new Consumption(use, money, person, date);
            consumptions[consumptions.length] = consumption;
            var strConsumptions = JSON.stringify(consumptions);
            local.setItem('consumptions', strConsumptions);
            $('input').val('');
            alert('Save Successful');
        });
    </script>

</body>
</html>
